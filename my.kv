WindowManager:
    Login:
    MainWindow:
    JournalWindow:
    HistoryWindow:
    GratitudeJarApp:

<Login>:
    name: "login"
    entry: entry  # Bind the ObjectProperty to the TextInput

    FloatLayout
        Image:
            source: 'garden background.png' 
            size: self.size
            pos: self.pos
            allow_stretch: True

        Label:
            text: "Input your user id"
            color: 0.3, 0.6, 0.6, 1
            font_name: 'HGS'
            font_size: '40sp'
            pos_hint: {'center_x': 0.5, 'center_y': 0.7}

        TextInput:
            id: entry
            multiline: False
            font_name: 'HGS'
            font_size: '30sp'
            size_hint: (0.3, 0.1)
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}

        Button:
            text: "Submit"
            font_name: 'HGS'
            font_size: '30sp'
            size_hint: (0.2, 0.1)
            pos_hint: {'center_x': 0.5, 'center_y': 0.3}
            on_press:
                root.save_btn_press()
                app.root.current = "main"
                root.manager.transition.direction = "right"
                    


<MainWindow>:
    name: "main"
    
    FloatLayout:
        Image:
            source: 'garden background.png' 
            size: self.size
            pos: self.pos
            allow_stretch: True

        Label:
            text: "name of app goes here"
            font_size: '100sp'
            font_name: 'HGS'
            color: 0.3, 0.6, 0.6, 1
            pos_hint: {'center_x': 0.5, 'center_y': 0.9}

        Button:
            text: "New Entry"
            font_name: 'HGS'
            font_size: '25sp'
            size_hint: (0.2, 0.1)
            pos_hint: {'center_x': 0.2, 'center_y': 0.1}
            on_release:
                app.root.current = "journal"
                root.manager.transition.direction = "left"
        
        Button:
            text: "New Gratitude"
            font_name: 'HGS'
            font_size: '25sp'
            size_hint: (0.2, 0.1)
            pos_hint: {'center_x': 0.5, 'center_y': 0.1}
            on_release:
                app.root.current = "gratitude"
                root.manager.transition.direction = "left"

        Button:
            text: "Previous Entries"
            font_name: 'HGS'
            font_size: '25sp'
            size_hint: (0.2, 0.1)
            pos_hint: {'center_x': 0.8, 'center_y': 0.1}
            on_release:
                app.root.current = "history"
                root.manager.transition.direction = "left"
        
        Button:
            size_hint: None, None
            size: '150dp', '150dp'
            pos_hint: {'center_x': 0.2, 'center_y': 0.35}
            background_normal: 'Pot.png'   
            on_press: root.flower_pot_press()

        Button:
            size_hint: None, None
            size: '150dp', '150dp'
            pos_hint: {'center_x': 0.5, 'center_y': 0.35}
            background_normal: 'Pot.png'   
            on_press: root.flower_pot_press()
        
        Button:
            size_hint: None, None
            size: '150dp', '150dp'
            pos_hint: {'center_x': 0.8, 'center_y': 0.35}
            background_normal: 'Pot.png'   
            on_press: root.flower_pot_press()

<JournalWindow>:
    name: "journal"
    entry: entry

    FloatLayout
        Image:
            source: 'garden background.png' 
            size: self.size
            pos: self.pos
            allow_stretch: True

        Label:
            text: root.feeling_label_text
            color: 0.3, 0.6, 0.6, 1
            font_name: 'HGS'
            font_size: '40sp'
            pos_hint: {'center_x': 0.5, 'center_y': 0.8}
        
        TextInput:
            id: entry
            multiline: True
            font_name: 'HGS'
            font_size: '30sp'
            size_hint: (0.5, 0.3)
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}

        Button:
            text: "Back"
            font_name: 'HGS'
            font_size: '30sp'
            size_hint: (0.125, 0.1)
            pos_hint: {'center_x': 0.35, 'center_y': 0.2}
            on_press:
                app.root.current = "main"
                root.manager.transition.direction = "right"

        Button:
            text: "Ask"
            font_name: 'HGS'
            font_size: '30sp'
            size_hint: (0.125, 0.1)
            pos_hint: {'center_x': 0.5, 'center_y': 0.2}
            on_press:
                root.ask_btn_press()

        Button:
            text: "Finish"
            font_name: 'HGS'
            font_size: '30sp'
            size_hint: (0.125, 0.1)
            pos_hint: {'center_x': 0.65, 'center_y': 0.2}
            on_press:
                root.save_btn_press()


<HistoryWindow>:
    name: "history"
    entries: entries

    GridLayout:
        cols: 1
        # size: root.width, root.height

        Button:
            text: "show most recent entry"
            on_press: root.show_btn_press()

        Label:
            id: entries
            text: ""
        
        Button:
            text: "Back"
            on_release:
                app.root.current = "main"
                root.manager.transition.direction = "right"



<GratitudeJarApp>:
    name: 'gratitude'

    FloatLayout

        Image:
            source: 'garden background.png'
            size: self.size
            pos: self.pos
            allow_stretch: True

        Label:
            text: 'What are you grateful for today?'
            color: 0.3, 0.6, 0.6, 1
            font_name: 'HGS'
            font_size: '40sp'
            pos_hint: {'center_x': 0.5, 'center_y': 0.8}

        TextInput:
            hint_text: 'Enter your gratitude'
            multiline: True
            font_name: 'HGS'
            font_size: '30sp'
            size_hint: (0.5, 0.3)
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}

        Button:
            text: 'Add Gratitude'
            font_name: 'HGS'
            font_size: '30sp'
            size_hint: (0.2, 0.1)
            pos_hint: {'center_x': 0.7, 'center_y': 0.2}
            background_color: 0, 1, 0, 1
            # on_press: root.add_gratitude(self)

        Button:
            text: "Back"
            font_name: 'HGS'
            font_size: '30sp'
            size_hint: (0.2, 0.1)
            pos_hint: {'center_x': 0.3, 'center_y': 0.2}
            on_press:
                app.root.current = "main"
                root.manager.transition.direction = "right"
        
        Label:
            # text: root.gratitude_display.text
            font_size: 14
